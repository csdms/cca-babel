<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The Life of an Array</TITLE>
<META NAME="description" CONTENT="The Life of an Array">
<META NAME="keywords" CONTENT="users_guide">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="users_guide.css">

<LINK REL="next" HREF="node69.html">
<LINK REL="previous" HREF="node67.html">
<LINK REL="up" HREF="node62.html">
<LINK REL="next" HREF="node69.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html1939"
  HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1933"
  HREF="node62.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1927"
  HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1935"
  HREF="node14.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1937"
  HREF="node475.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1940"
  HREF="node69.html">The NULL Array</A>
<B> Up:</B> <A NAME="tex2html1934"
  HREF="node62.html">Arrays</A>
<B> Previous:</B> <A NAME="tex2html1928"
  HREF="node67.html">Independent and borrowed arrays</A>
 &nbsp; <B>  <A NAME="tex2html1936"
  HREF="node14.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1938"
  HREF="node475.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION02445000000000000000"></A>
<A NAME="3366"></A>
<BR>
The Life of an Array
</H2>

<P>
The existence of borrowed arrays causes the arrays to deviate from the
normal reference counting pattern. You may recall that all arrays are reference counted,
and an array's resources are reclaimed when the reference count goes to
zero. However, a borrowed array's array element data will disappear
whenever the source of the borrowed data determines that it should
regardless of the reference count in corresponding the SIDL array.
This behavior means that developers should consider any SIDL array
that they did not create themselves, for example incoming arguments to
methods, as potential borrowed arrays.  When a method wants to keep a
copy of an array that might be a borrowed array, it should use the
<TT>smartCopy</TT><A NAME="3368"></A><A NAME="3369"></A> method documented below.

<P>
Here are some rules of thumb about the use of borrowed arrays:

<UL>
<LI>The creator of a borrowed array should guarantee that the data for the
borrowed array will exist through the duration of any method calls
using the borrowed array.
</LI>
<LI>Methods should not return a borrowed array as a return value or
<TT>out</TT> parameter unless the method can guarantee that the array
element data will be available until the process shuts down.
</LI>
<LI>There is a negligible performance cost when using <TT>smartCopy</TT>
when the array is not borrowed, and there is a huge correctness
benefit when the array is borrowed.
</LI>
</UL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html1939"
  HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1933"
  HREF="node62.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1927"
  HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1935"
  HREF="node14.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1937"
  HREF="node475.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1940"
  HREF="node69.html">The NULL Array</A>
<B> Up:</B> <A NAME="tex2html1934"
  HREF="node62.html">Arrays</A>
<B> Previous:</B> <A NAME="tex2html1928"
  HREF="node67.html">Independent and borrowed arrays</A>
 &nbsp; <B>  <A NAME="tex2html1936"
  HREF="node14.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1938"
  HREF="node475.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<br><br>babel-1.4.0<br>users_guide Last Modified 2008-10-16<br><br><a href="http://www.llnl.gov/CASC/components">http://www.llnl.gov/CASC/components</a><br><a href="mailto:components@llnl.gov">components@llnl.gov</a>
</ADDRESS>
</BODY>
</HTML>
